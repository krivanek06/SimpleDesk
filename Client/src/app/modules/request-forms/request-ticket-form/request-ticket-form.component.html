<form [formGroup] = "ticketForm" (ngSubmit)="submit()">
    Values : {{ ticketForm.value | json }}
    <hr>
    <mat-form-field class='ticketInlineParameters'>
        <mat-label>Typ Tiketu</mat-label>
        <mat-select formControlName="ticketType" (selectionChange)= "resetTicketType()">
            <mat-option value="Software">Software</mat-option>
            <mat-option value="Hardware">Hardware</mat-option>
            <mat-option value="User">Uživateľ</mat-option>
            <mat-option value="Server">Server</mat-option>
            <mat-option value="Other">Iné</mat-option>
        </mat-select>

        <mat-error *ngIf="ticketType.invalid">
                Typ tiketu nemôže byť prázdny
        </mat-error>

    </mat-form-field>

    <!--ticketType -->
    <mat-form-field *ngIf = "ticketForm.value.ticketType === 'Software' || 
                            ticketForm.value.ticketType === 'Hardware' || 
                            ticketForm.value.ticketType === 'Server' "
                    class='ticketInlineParameters'>
        <mat-label>{{ ticketForm.value.ticketType  }}</mat-label>
        <mat-select formControlName="ticketSubtupeName">
            <mat-option value="test">test</mat-option>
            <mat-option value="test1">test</mat-option>
            <mat-option value="test2">test</mat-option>
            <mat-option value="test3">test</mat-option>
            <mat-option value="test4">test</mat-option>
        </mat-select>

        <mat-error *ngIf="ticketSubtupeName.invalid">
                Prosím vyberte kategóriu pre {{ ticketForm.value.ticketType  }}
        </mat-error>

    </mat-form-field>

    <mat-form-field *ngIf = "ticketForm.value.ticketType === 'User' || ticketForm.value.ticketType === 'Other' "
                     class='ticketInlineParameters'>
        <input matInput placeholder="Typ Tiketu" formControlName = "ticketSubtupeName">

        <mat-error *ngIf="ticketSubtupeName.invalid">
                Prosím vyberte kategóriu pre {{ ticketForm.value.ticketType  }}
        </mat-error>

    </mat-form-field>


    <!--Priority -->
    <mat-form-field class='ticketInlineParameters' >
        <mat-label>Priorita</mat-label>
        <mat-select formControlName="priority">
            <mat-option value="malá">malá</mat-option>
            <mat-option value="stredná">stredná</mat-option>
            <mat-option value="veľká">veľká</mat-option>
        </mat-select>

        <mat-error *ngIf="priority.invalid">
                Prosím vyberte prioritu tiketu
        </mat-error>

    </mat-form-field>

    <!--nazov -->
    <mat-form-field class='ticketInlineParameters'>
        <input  matInput placeholder="Názov tiketu" formControlName = "name">

        <mat-error *ngIf="name.invalid">
                Prosím zadefinujte meno tiketu v dĺžke od 5 po 254 znakov
        </mat-error>

    </mat-form-field>

    <!--problem -->
    <mat-form-field class='ticketInlineParameters' >
        <textarea  matInput placeholder="Popis problému" formControlName = "problem"></textarea>

        <mat-error *ngIf="problem.invalid">
                Prosím zadefinujte váš problém, minimálne 10 zankov
        </mat-error>

    </mat-form-field>

     <!-- uploader -->
    <div class='ticketInlineParameters'> 
        <app-file-upload id='uploader' [uploaderHeight] = '65'></app-file-upload>
    </div>

    <!-- submit button -->
    <div class='ticketInlineParameters'>
        <button mat-raised-button color="primary"   id="ticketSendingButton"  type="submit">
                Odoslať
        </button>
    </div>

</form>